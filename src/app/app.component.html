<div class="h-screen flex flex-col justify-between">
  @let msg = serviceMessage.serviceMessage();

  @if(appStore.isLoading())
  {
    <app-loader></app-loader>
  } @else if (!!msg && msg.type === 'error' || appStore.error()) {
    <div class="tg-card bg-red-100 border border-red-100 rounded-lg text-red-500">{{ msg?.text || appStore.error() }}</div>
  } @else {
    
    @if (!!msg) {
      <!-- TODO: move msg to separate component -->
      <div class="service-message absolute w-full flex justify-center items-center h-5 border "
        ngClass="{{msg.type}}"
        (click)="serviceMessage.resetMessage()">
        <!-- <app-icon class="text-green-700" name="checkCircleFill"></app-icon> -->
          {{ msg.text }}
      </div>
      <!-- <div 
        class="fixed w-[90%] top-2 left-1/2 transform -translate-x-1/2 bg-green-100 border border-green-300 text-green-700 px-4 py-2 rounded-lg shadow-lg z-50 flex items-center gap-2"
        (click)="serviceMessage.resetServiceMessage()">
        <app-icon class="text-green-700" name="checkCircleFill"></app-icon>
        {{ msg }}
      </div> -->
    }
    <router-outlet></router-outlet>

    <div class="footer h-[55px]">
      <div class="actions border-gray-200 border-t pt-2 grid grid-cols-3">
        
        @for (button of navigationButtons; track $index) {
          <app-icon
            class="p-4 h-2 border-l first:border-none border-gray-200"
            [name]="button.name"
            [routerLink]="button.route"
            routerLinkActive="font-bold text-blue-500">
          </app-icon>
        }
      </div>
    </div>
  }
</div>
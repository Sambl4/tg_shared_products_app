/* Animation for popup entrance */
.animate-scale-in {
  animation: scaleIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes scaleIn {
  0% {
    transform: scale(0.9);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Smooth backdrop transition */
.backdrop-blur-sm {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* Mobile optimizations */
@media (max-width: 640px) {
  .fixed.inset-0 {
    padding: 1rem;
  }
  
  .bg-white.rounded-2xl {
    max-height: 90vh;
    min-height: 200px;
  }
  
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch;
  }
}

/* iOS safe area support */
@supports (padding-top: env(safe-area-inset-top)) {
  .fixed.inset-0 {
    padding-top: max(1rem, env(safe-area-inset-top));
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}

/* Focus states for accessibility */
button:focus-visible {
  outline: 2px solid #3B82F6;
  outline-offset: 2px;
}

/* Touch optimization for close button */
button {
  min-width: 44px;
  min-height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Content scroll shadows for better UX */
.overflow-y-auto {
  background-image: 
    linear-gradient(to bottom, white 30%, rgba(255,255,255,0)),
    linear-gradient(to top, white 30%, rgba(255,255,255,0)),
    linear-gradient(to bottom, rgba(0,0,0,0.15), rgba(255,255,255,0)),
    linear-gradient(to top, rgba(0,0,0,0.15), rgba(255,255,255,0));
  background-position: 
    center top,
    center bottom,
    center top,
    center bottom;
  background-repeat: no-repeat;
  background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;
  background-attachment: local, local, scroll, scroll;
}
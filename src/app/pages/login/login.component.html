<div class="w-full h-screen flex items-center justify-center">
  <div class="tg-card p-[15%] flex flex-col gap-4">
    {{userdata()}}
    @if (!!selectedGroup()) {
      <div class="p-4">
        <span>Join </span>
        <span class="font-semibold">{{ selectedGroup()!.name }}</span>
      </div>
      <button class="tg-button" (click)="cancelSelection()">Cancel</button>
      <button class="tg-button" (click)="confirmSelection()">Confirm</button>
    } @else {
      <button (click)="openGroupList()" class="tg-button">
        <a class="product-edit" routerLink="/products">
          Join group
        </a>
      </button>
      
      <app-popup
        [isOpen]="isGroupListOpen"
        (closePopup)="isGroupListOpen = false"
        [title]="'Select group'">
          @for (group of productGroupList; track group.id) {
            <div class="tg-card p-2 mb-2" (click)="selectGroup(group)">
              {{ group.name }}
            </div>
          }
      </app-popup>
      <button class="tg-button disabled">Create group</button>
    }
  </div>
</div>